# ============================================================================
# CI Test Values for Next.js Chart
# ============================================================================
# Optimized for automated testing in CI/CD pipelines
# - Minimal resources
# - Fast startup
# - No external dependencies
# - No persistence
# ============================================================================

# Use the demo image
image:
  repository: ghcr.io/5ergiu/nextjs
  tag: latest
  pullPolicy: Always

# Minimal replicas for CI
web:
  replicaCount: 1
  autoscaling:
    enabled: false

  resources:
    limits:
      cpu: 500m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi

  # Disable probes for faster startup in CI
  livenessProbe:
    enabled: false
  readinessProbe:
    enabled: false
  startupProbe:
    enabled: false

  pdb:
    enabled: false

# Disable ingress/routing for CI
ingress:
  enabled: false

ingressRoute:
  enabled: false

middleware:
  enabled: false

# Next.js configuration for CI
nextjs:
  env:
    NODE_ENV: "test"
    # Add any test-specific environment variables here

  secrets: {}

# No persistence for CI
persistence:
  enabled: false

# Tmpfs for testing
tmpfsVolumes:
  enabled: true
