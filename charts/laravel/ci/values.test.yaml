# CI test values for Laravel chart
# This file is used by chart-testing during PR validation

# Disable autoscaling for CI tests (requires metrics-server)
web:
  replicaCount: 1
  autoscaling:
    enabled: false

worker:
  replicaCount: 1
  autoscaling:
    enabled: false

# Disable ingress for CI tests
ingress:
  enabled: false

laravel:
  env:
    APP_ENV: "testing"
    APP_DEBUG: "true"
    DB_CONNECTION: "sqlite"
    DB_DATABASE: ":memory:"
    LOG_CHANNEL: "stderr"
    LOG_LEVEL: "debug"
    MAIL_MAILER: "log"
    MAIL_HOST: "localhost"
    MAIL_PORT: "1025"
    MAIL_FROM_ADDRESS: "test@example.com"
    MAIL_FROM_NAME: "Test"
    CACHE_DRIVER: "redis"
    QUEUE_CONNECTION: "redis"
    SESSION_DRIVER: "redis"
  secrets:
    # All secrets should be provided via secrets.local.yaml (gitignored)
    # See charts/laravel/ci/secrets.local.yaml.example
    APP_KEY: ""
    DB_HOST: ""
    DB_USERNAME: ""
    DB_PASSWORD: ""
    REDIS_URL: ""
    AWS_ACCESS_KEY_ID: ""
    AWS_SECRET_ACCESS_KEY: ""
    MAIL_USERNAME: ""
    MAIL_PASSWORD: ""
    PUSHER_APP_ID: ""
    PUSHER_APP_KEY: ""
    PUSHER_APP_SECRET: ""

php:
  env:
    LOG_OUTPUT_LEVEL: "debug"
    PHP_DISPLAY_ERRORS: "On"
    PHP_DISPLAY_STARTUP_ERRORS: "On"

migration:
  enabled: true
  backoffLimit: 0

scheduler:
  enabled: true

tmpfsVolumes:
  enabled: true

persistence:
  enabled: false
